{
  "name": "TinyLED",
  "vendor": "rpiontik",
  "version": 1,
  "subversion": 0,
  "patch": 0,
  "description": {
    "ru": "Приложение управления светильником для морского и пресноводного аквариума TinyLED",
    "en": "The application for lighting control of marine and freshwater aquariums TinyLED"
  },
  "components": {
    "fenist-app": {
      "source": "prefs.js",
      "intent_filter": [
        {
          "action": "thingjs.intent.action.MAIN",
          "category": "thingjs.intent.category.LAUNCH"
        }
      ]
    },
    "tinyled-preferences": {
      "source": "prefs.js",
      "intent_filter": [
        {
          "action": "thingjs.intent.action.MAIN",
          "category": "thingjs.intent.category.PREFERENCE"
        }
      ]
    },
    "fenist-preferences": {
      "source": "prefs.js",
      "intent_filter": [
        {
          "action": "thingjs.intent.action.MAIN",
          "category": "thingjs.intent.category.PREFERENCE"
        }
      ]
    }
  },
  "scripts": {
    "subscriptions": [
      "$-started",
      "$-current-time",
      "lucerna-set-config",
      "lucerna-get-config",
      "fenist-set-hw-config",
      "fenist-get-config",
      "relay-on",
      "relay-off",
      "fan-level",
      "$-script-restart"
    ],
    "entry": "scheduler",
    "modules": {
      "scheduler": {
        "source": "scripts/scheduler.js",
        "optimize": false
      }
    }
  },
  "files": [
    {
      "src": "cfg/config.json",
      "dist": "config.json"
    }
  ],
  "storage": {
    "objects": {
      "dots": {
        "version": 1,
        "default" : "data/dots.json",
        "struct": {
          "time": "int",
          "spectrum": {
            "0": "int",
            "1": "int",
            "2": "int",
            "3": "int",
            "4": "int",
            "5": "int",
            "6": "int",
            "7": "int"
          }
        }
      }
    }
  },
  "requires": {
    "interfaces": {
      "clock": {
        "type": "clock",
        "required": true,
        "description": {
          "ru": "Системные часы",
          "en": "System clock"
        }
      },
      "timers": {
        "type": "timers",
        "required": true,
        "description": {
          "ru": "Таймеры системы",
          "en": "System timers"
        }
      },
      "ledc1": {
        "type": "SmartLED",
        "required": true,
        "default": [5001,32,33,26,27,14,12,13,2],
        "description": {
          "ru": "Основной LEDC драйвер",
          "en": "Main LEDC driver"
        }
      },
      "relay1": {
        "type": "bit_port",
        "required": true,
        "default": 23,
        "description": {
          "ru": "Реле",
          "en": "Relay"
        }
      },
      "relay2": {
        "type": "bit_port",
        "required": true,
        "default": 19,
        "description": {
          "ru": "Реле",
          "en": "Relay"
        }
      },
      "relay3": {
        "type": "bit_port",
        "required": true,
        "default": 22,
        "description": {
          "ru": "Реле",
          "en": "Relay"
        }
      },
      "relay4": {
        "type": "bit_port",
        "required": true,
        "default": 21,
        "description": {
          "ru": "Реле",
          "en": "Relay"
        }
      },
      "DS18B20": {
        "type": "DS18X20",
        "required": true,
        "default": [6002, 34, 5],
        "description": {
          "ru": "Датчики температуры DS18B20",
          "en": "Temperature sensor DS18B20"
        }
      },
      "FAN": {
        "type": "fan",
        "required": true,
        "default": [25,39,8448,36],
        "description": {
          "ru": "Контроллер вентилятора",
          "en": "Fan controller"
        }
      },
      "http": {
        "type": "http",
        "required": true
      },
      "prefs": {
        "type": "preferences",
        "required": true
      },
      "sys_info": {
        "type": "sys_info",
        "required": true,
        "description": {
          "ru": "Информация о системе",
          "en": "System information"
        }
      }
    }
  }
}
